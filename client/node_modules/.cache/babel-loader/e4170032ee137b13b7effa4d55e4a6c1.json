{"ast":null,"code":"/*!\n * @pixi/app - v5.2.1\n * Compiled Tue, 28 Jan 2020 23:33:11 UTC\n *\n * @pixi/app is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nimport { Container } from '@pixi/display';\nimport { autoDetectRenderer } from '@pixi/core';\n/**\n * Convenience class to create a new PIXI application.\n *\n * This class automatically creates the renderer, ticker and root container.\n *\n * @example\n * // Create the application\n * const app = new PIXI.Application();\n *\n * // Add the view to the DOM\n * document.body.appendChild(app.view);\n *\n * // ex, add display objects\n * app.stage.addChild(PIXI.Sprite.from('something.png'));\n *\n * @class\n * @memberof PIXI\n */\n\nvar Application = function Application(options) {\n  var this$1 = this; // The default options\n\n  options = Object.assign({\n    forceCanvas: false\n  }, options);\n  /**\n   * WebGL renderer if available, otherwise CanvasRenderer.\n   * @member {PIXI.Renderer|PIXI.CanvasRenderer}\n   */\n\n  this.renderer = autoDetectRenderer(options);\n  /**\n   * The root display container that's rendered.\n   * @member {PIXI.Container}\n   */\n\n  this.stage = new Container(); // install plugins here\n\n  Application._plugins.forEach(function (plugin) {\n    plugin.init.call(this$1, options);\n  });\n};\n\nvar prototypeAccessors = {\n  view: {\n    configurable: true\n  },\n  screen: {\n    configurable: true\n  }\n};\n/**\n * Register a middleware plugin for the application\n * @static\n * @param {PIXI.Application.Plugin} plugin - Plugin being installed\n */\n\nApplication.registerPlugin = function registerPlugin(plugin) {\n  Application._plugins.push(plugin);\n};\n/**\n * Render the current stage.\n */\n\n\nApplication.prototype.render = function render() {\n  this.renderer.render(this.stage);\n};\n/**\n * Reference to the renderer's canvas element.\n * @member {HTMLCanvasElement}\n * @readonly\n */\n\n\nprototypeAccessors.view.get = function () {\n  return this.renderer.view;\n};\n/**\n * Reference to the renderer's screen rectangle. Its safe to use as `filterArea` or `hitArea` for the whole screen.\n * @member {PIXI.Rectangle}\n * @readonly\n */\n\n\nprototypeAccessors.screen.get = function () {\n  return this.renderer.screen;\n};\n/**\n * Destroy and don't use after this.\n * @param {Boolean} [removeView=false] Automatically remove canvas from DOM.\n * @param {object|boolean} [stageOptions] - Options parameter. A boolean will act as if all options\n *  have been set to that value\n * @param {boolean} [stageOptions.children=false] - if set to true, all the children will have their destroy\n *  method called as well. 'stageOptions' will be passed on to those calls.\n * @param {boolean} [stageOptions.texture=false] - Only used for child Sprites if stageOptions.children is set\n *  to true. Should it destroy the texture of the child sprite\n * @param {boolean} [stageOptions.baseTexture=false] - Only used for child Sprites if stageOptions.children is set\n *  to true. Should it destroy the base texture of the child sprite\n */\n\n\nApplication.prototype.destroy = function destroy(removeView, stageOptions) {\n  var this$1 = this; // Destroy plugins in the opposite order\n  // which they were constructed\n\n  var plugins = Application._plugins.slice(0);\n\n  plugins.reverse();\n  plugins.forEach(function (plugin) {\n    plugin.destroy.call(this$1);\n  });\n  this.stage.destroy(stageOptions);\n  this.stage = null;\n  this.renderer.destroy(removeView);\n  this.renderer = null;\n  this._options = null;\n};\n\nObject.defineProperties(Application.prototype, prototypeAccessors);\n/**\n * @memberof PIXI.Application\n * @typedef {object} Plugin\n * @property {function} init - Called when Application is constructed, scoped to Application instance.\n *  Passes in `options` as the only argument, which are Application constructor options.\n * @property {function} destroy - Called when destroying Application, scoped to Application instance\n */\n\n/**\n * Collection of installed plugins.\n * @static\n * @private\n * @type {PIXI.Application.Plugin[]}\n */\n\nApplication._plugins = [];\n/**\n * Middleware for for Application's resize functionality\n * @private\n * @class\n */\n\nvar ResizePlugin = function ResizePlugin() {};\n\nResizePlugin.init = function init(options) {\n  var this$1 = this;\n  /**\n   * The element or window to resize the application to.\n   * @type {Window|HTMLElement}\n   * @name resizeTo\n   * @memberof PIXI.Application#\n   */\n\n  Object.defineProperty(this, 'resizeTo', {\n    set: function set(dom) {\n      window.removeEventListener('resize', this.resize);\n      this._resizeTo = dom;\n\n      if (dom) {\n        window.addEventListener('resize', this.resize);\n        this.resize();\n      }\n    },\n    get: function get() {\n      return this._resizeTo;\n    }\n  });\n  /**\n   * If `resizeTo` is set, calling this function\n   * will resize to the width and height of that element.\n   * @method PIXI.Application#resize\n   */\n\n  this.resize = function () {\n    if (this$1._resizeTo) {\n      // Resize to the window\n      if (this$1._resizeTo === window) {\n        this$1.renderer.resize(window.innerWidth, window.innerHeight);\n      } // Resize to other HTML entities\n      else {\n          this$1.renderer.resize(this$1._resizeTo.clientWidth, this$1._resizeTo.clientHeight);\n        }\n    }\n  }; // On resize\n\n\n  this._resizeTo = null;\n  this.resizeTo = options.resizeTo || null;\n};\n/**\n * Clean up the ticker, scoped to application\n * @static\n * @private\n */\n\n\nResizePlugin.destroy = function destroy() {\n  this.resizeTo = null;\n  this.resize = null;\n};\n\nApplication.registerPlugin(ResizePlugin);\nexport { Application };","map":null,"metadata":{},"sourceType":"module"}